{
   "info": {
      "license": {
         "name": "Apache 2.0",
         "url": "http://www.apache.org/licenses/LICENSE-2.0"
      },
      "title": "Open Package Management API Reference",
      "version": "v1.0.0-rc.1"
   },
   "openapi": "3.0.0",
   "paths": {
      "/namespaces": {
         "get": {
            "operationId": "listNamespaces",
            "parameters": [
               {
                  "in": "query",
                  "name": "label",
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.namespace-list.v1+json": {
                        "example": {
                           "namespaces": [
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-foo",
                                       "manager": "Tom Ripen",
                                       "team": "team-foo"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "premium",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "namespace-foo",
                                 "quotas": {
                                    "projects": {
                                       "limit": 75,
                                       "used": 14
                                    },
                                    "repositories": {
                                       "limit": 100,
                                       "used": 23
                                    },
                                    "storage": {
                                       "limit": 5092847552234,
                                       "used": 802833443
                                    }
                                 },
                                 "status": "active"
                              },
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-bar",
                                       "manager": "Frank Cousins",
                                       "team": "team-bar"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-bar",
                                       "pricingPlan": "free",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "namespace-bar",
                                 "quotas": {
                                    "projects": {
                                       "limit": 10,
                                       "used": 1
                                    },
                                    "repositories": {
                                       "limit": 50,
                                       "used": 4
                                    },
                                    "storage": {
                                       "limit": 2239424948849,
                                       "used": 85224342
                                    }
                                 },
                                 "status": "active"
                              }
                           ]
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "namespaces": {
                                 "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                       "labels": {
                                          "additionalProperties": false,
                                          "properties": {
                                             "consumer": {
                                                "type": "object"
                                             },
                                             "provider": {
                                                "type": "object"
                                             }
                                          },
                                          "type": "object"
                                       },
                                       "name": {
                                          "type": "string"
                                       },
                                       "quotas": {
                                          "additionalProperties": false,
                                          "properties": {
                                             "projects": {
                                                "additionalProperties": false,
                                                "properties": {
                                                   "limit": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   },
                                                   "used": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   }
                                                },
                                                "type": "object"
                                             },
                                             "repositories": {
                                                "additionalProperties": false,
                                                "properties": {
                                                   "limit": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   },
                                                   "used": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   }
                                                },
                                                "type": "object"
                                             },
                                             "storage": {
                                                "additionalProperties": false,
                                                "properties": {
                                                   "limit": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   },
                                                   "used": {
                                                      "maximum": 18446744073709551616,
                                                      "minimum": 0,
                                                      "type": "integer"
                                                   }
                                                },
                                                "type": "object"
                                             }
                                          },
                                          "type": "object"
                                       },
                                       "status": {
                                          "enum": [
                                             "active",
                                             "terminating"
                                          ],
                                          "type": "string"
                                       }
                                    },
                                    "type": "object"
                                 },
                                 "type": "array"
                              }
                           },
                           "title": "List Namespaces",
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK",
                  "headers": {
                     "Link": {
                        "description": "RFC 5988 compliant Link header",
                        "schema": {
                           "type": "string"
                        }
                     }
                  }
               },
               "400": {
                  "description": "Bad Request"
               },
               "401": {
                  "description": "Unauthorized"
               },
               "403": {
                  "description": "Forbidden"
               }
            },
            "tags": [
               "namespaces"
            ]
         }
      },
      "/namespaces/{namespace}": {
         "delete": {
            "operationId": "deleteNamespace",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "description": "OK"
               },
               "400": {
                  "description": "Bad Request"
               },
               "401": {
                  "description": "Unauthorized"
               },
               "403": {
                  "description": "Forbidden"
               }
            },
            "tags": [
               "namespaces"
            ]
         },
         "get": {
            "operationId": "getNamespace",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.namespace.v1+json": {
                        "example": {
                           "labels": {
                              "consumer": {
                                 "costCenter": "cs-foo",
                                 "manager": "Tom Ripen",
                                 "team": "team-foo"
                              },
                              "provider": {
                                 "awsAccount": "aws-account-foo",
                                 "pricingPlan": "PREMIUM",
                                 "region": "us-east-1"
                              }
                           },
                           "name": "namespace-foo",
                           "quotas": {
                              "projects": {
                                 "limit": 75,
                                 "used": 14
                              },
                              "repositories": {
                                 "limit": 100,
                                 "used": 23
                              },
                              "storage": {
                                 "limit": 548298572358,
                                 "used": 580324752
                              }
                           },
                           "status": "active"
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "labels": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "consumer": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    },
                                    "provider": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    }
                                 },
                                 "type": "object"
                              },
                              "name": {
                                 "type": "string"
                              },
                              "quotas": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "projects": {
                                       "additionalProperties": false,
                                       "properties": {
                                          "limit": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          },
                                          "used": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          }
                                       },
                                       "type": "object"
                                    },
                                    "repositories": {
                                       "additionalProperties": false,
                                       "properties": {
                                          "limit": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          },
                                          "used": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          }
                                       },
                                       "type": "object"
                                    },
                                    "storage": {
                                       "additionalProperties": false,
                                       "properties": {
                                          "limit": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          },
                                          "used": {
                                             "maximum": 18446744073709551616,
                                             "minimum": 0,
                                             "type": "integer"
                                          }
                                       },
                                       "type": "object"
                                    }
                                 },
                                 "type": "object"
                              },
                              "status": {
                                 "enum": [
                                    "active",
                                    "terminating"
                                 ],
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               },
               "400": {
                  "description": "Bad Request"
               },
               "401": {
                  "description": "Unauthorized"
               },
               "403": {
                  "description": "Forbidden"
               }
            },
            "tags": [
               "namespaces"
            ]
         },
         "put": {
            "operationId": "createNamespace",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "requestBody": {
               "content": {
                  "application/vnd.open-package-management.namespace-create.v1+json": {
                     "example": {
                        "labels": {
                           "costCenter": "cs-foo",
                           "manager": "Tom Ripen",
                           "team": "team-foo"
                        },
                        "repoLimit": 100,
                        "storageLimit": 100000000000
                     },
                     "schema": {
                        "additionalProperties": false,
                        "properties": {
                           "labels": {
                              "type": "object",
                              "x-patternProperties": {
                                 ".{1,}": {
                                    "type": "string"
                                 }
                              }
                           },
                           "repoLimit": {
                              "maximum": 18446744073709551616,
                              "minimum": 0,
                              "type": "integer"
                           },
                           "storageLimit": {
                              "maximum": 18446744073709551616,
                              "minimum": 0,
                              "type": "integer"
                           }
                        },
                        "title": "Create Namespace",
                        "type": "object"
                     }
                  }
               },
               "required": true
            },
            "responses": {
               "200": {
                  "description": "OK"
               },
               "400": {
                  "description": "Bad Request"
               },
               "401": {
                  "description": "Unauthorized"
               },
               "403": {
                  "description": "Forbidden"
               }
            },
            "tags": [
               "namespaces"
            ]
         }
      },
      "/namespaces/{namespace}/project/{project}/repos": {
         "get": {
            "operationId": "listRepos",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "repo",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.repository-list.v1+json": {
                        "example": {
                           "repositories": [
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-foo",
                                       "manager": "Tom Ripen",
                                       "team": "team-foo"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "PREMIUM",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "app-foo",
                                 "namespace": "namespace-foo",
                                 "package": {
                                    "documentation": "https://github.com/opencontainers/image-spec",
                                    "icon": "https://opencontainers/static/icon-small.png",
                                    "type": "oci-image-v1.0.0"
                                 },
                                 "project": "project-foo"
                              },
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-foo",
                                       "manager": "Tom Ripen",
                                       "team": "team-bar"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "PREMIUM",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "app-bar",
                                 "namespace": "namespace-foo",
                                 "package": {
                                    "documentation": "https://github.com/moby/moby/blob/master/image/spec/v1.2.md",
                                    "icon": "https://docker.io/static/icon-small.png",
                                    "type": "docker-image-v2.2.0"
                                 },
                                 "project": "project-foo"
                              },
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-foo",
                                       "manager": "Tom Ripen",
                                       "team": "team-helm"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "PREMIUM",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "app-foo-helm",
                                 "namespace": "namespace-foo",
                                 "package": {
                                    "documentation": "https://helm.sh/docs",
                                    "icon": "https://helm.sh/static/icon-small.png",
                                    "type": "helm-chart-v1.0.0"
                                 },
                                 "project": "project-foo"
                              }
                           ]
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "repositories": {
                                 "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                       "labels": {
                                          "type": "object"
                                       },
                                       "name": {
                                          "type": "string"
                                       },
                                       "namespace": {
                                          "type": "string"
                                       },
                                       "package": {
                                          "additionalProperties": false,
                                          "properties": {
                                             "documentation": {
                                                "type": "string"
                                             },
                                             "icon": {
                                                "type": "string"
                                             },
                                             "type": {
                                                "type": "string"
                                             }
                                          },
                                          "type": "object"
                                       },
                                       "project": {
                                          "type": "string"
                                       },
                                       "size": {
                                          "maximum": 18446744073709551616,
                                          "minimum": 0,
                                          "type": "integer"
                                       }
                                    },
                                    "type": "object"
                                 },
                                 "type": "array"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "repos"
            ]
         }
      },
      "/namespaces/{namespace}/project/{project}/repos/{repo}": {
         "delete": {
            "operationId": "deleteRepo",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "repo",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "description": "OK"
               },
               "400": {
                  "description": "Bad Request"
               },
               "401": {
                  "description": "Unauthorized"
               },
               "403": {
                  "description": "Forbidden"
               }
            },
            "tags": [
               "repos"
            ]
         },
         "get": {
            "operationId": "getRepo",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "repo",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.repository.v1+json": {
                        "example": {
                           "labels": {
                              "costCenter": "cs-foo",
                              "maintainer": "Billy Seiken",
                              "team": "team-example"
                           },
                           "name": "repository-example-foo",
                           "namespace": "namespace-example-foo",
                           "package": {
                              "documentation": "https://github.com/opencontainers/image-spec",
                              "icon": "https://opencontainers/static/icon-small.png",
                              "type": "OCI Image"
                           },
                           "project": "project-example-foo",
                           "size": 34252334
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "labels": {
                                 "type": "object",
                                 "x-patternProperties": {
                                    ".{1,}": {
                                       "type": "string"
                                    }
                                 }
                              },
                              "name": {
                                 "type": "string"
                              },
                              "namespace": {
                                 "type": "string"
                              },
                              "package": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "documentation": {
                                       "type": "string"
                                    },
                                    "icon": {
                                       "type": "string"
                                    },
                                    "type": {
                                       "type": "string"
                                    }
                                 },
                                 "type": "object"
                              },
                              "project": {
                                 "type": "string"
                              },
                              "size": {
                                 "maximum": 18446744073709551616,
                                 "minimum": 0,
                                 "type": "integer"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "repos"
            ]
         },
         "put": {
            "operationId": "putRepo",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "repo",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.repository-create.v1+json": {
                        "example": {
                           "labels": {
                              "consumer": {
                                 "costCenter": "cs-foo",
                                 "manager": "Tom Ripen",
                                 "team": "team-foo"
                              },
                              "provider": {
                                 "awsAccount": "aws-account-foo",
                                 "pricingPlan": "PREMIUM",
                                 "region": "us-east-1"
                              }
                           },
                           "type": "OCI Image"
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "labels": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "consumer": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    },
                                    "provider": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    }
                                 },
                                 "type": "object"
                              },
                              "type": {
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "repos"
            ]
         }
      },
      "/namespaces/{namespace}/projects": {
         "get": {
            "operationId": "listProjects",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.project-list.v1+json": {
                        "example": {
                           "projects": [
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-foo",
                                       "manager": "Tom Ripen",
                                       "team": "team-foo"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "PREMIUM",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "project-foo",
                                 "namespace": "namespace-foo",
                                 "repositories": 8
                              },
                              {
                                 "labels": {
                                    "consumer": {
                                       "costCenter": "cs-bar",
                                       "manager": "Rose Dawson",
                                       "team": "team-bar"
                                    },
                                    "provider": {
                                       "awsAccount": "aws-account-foo",
                                       "pricingPlan": "PREMIUM",
                                       "region": "us-east-1"
                                    }
                                 },
                                 "name": "project-bar",
                                 "namespace": "namespace-foo",
                                 "repositories": 5
                              }
                           ]
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "projects": {
                                 "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                       "labels": {
                                          "additionalProperties": false,
                                          "properties": {
                                             "consumer": {
                                                "type": "object"
                                             },
                                             "provider": {
                                                "type": "object"
                                             }
                                          },
                                          "type": "object"
                                       },
                                       "name": {
                                          "type": "string"
                                       },
                                       "namespace": {
                                          "type": "string"
                                       },
                                       "repositories": {
                                          "maximum": 18446744073709551616,
                                          "minimum": 0,
                                          "type": "integer"
                                       }
                                    },
                                    "type": "object"
                                 },
                                 "type": "array"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "projects"
            ]
         }
      },
      "/namespaces/{namespace}/projects/{project}": {
         "delete": {
            "operationId": "deleteProject",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "description": "OK"
               }
            },
            "tags": [
               "projects"
            ]
         },
         "get": {
            "operationId": "getProject",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.project.v1+json": {
                        "example": {
                           "labels": {
                              "consumer": {
                                 "costCenter": "cs-foo",
                                 "manager": "Tom Ripen",
                                 "team": "team-foo"
                              },
                              "provider": {
                                 "awsAccount": "aws-account-foo",
                                 "pricingPlan": "PREMIUM",
                                 "region": "us-east-1"
                              }
                           },
                           "name": "project-foo",
                           "namespace": "namespace-foo"
                        },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "labels": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "consumer": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    },
                                    "provider": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    }
                                 },
                                 "type": "object"
                              },
                              "name": {
                                 "type": "string"
                              },
                              "namespace": {
                                 "type": "string"
                              },
                              "repositories": {
                                 "maximum": 18446744073709551616,
                                 "minimum": 0,
                                 "type": "integer"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "projects"
            ]
         },
         "put": {
            "operationId": "putProject",
            "parameters": [
               {
                  "in": "path",
                  "name": "namespace",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "in": "path",
                  "name": "project",
                  "required": true,
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "content": {
                     "application/vnd.open-package-management.project-create.v1+json": {
                        "example": { },
                        "schema": {
                           "additionalProperties": false,
                           "properties": {
                              "labels": {
                                 "additionalProperties": false,
                                 "properties": {
                                    "consumer": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    },
                                    "provider": {
                                       "type": "object",
                                       "x-patternProperties": {
                                          ".{1,}": {
                                             "type": "string"
                                          }
                                       }
                                    }
                                 },
                                 "type": "object"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "OK"
               }
            },
            "tags": [
               "projects"
            ]
         }
      }
   }
}
